webpackJsonp([1],{176:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(432),n=a(433),r=a.n(n),i=a(421),l=(a.n(i),a(427)),u=a.n(l);s.a.use(r.a),s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:u.a}})},178:function(t,e,a){"use strict";function s(t,e,a,s){setTimeout(t.bind(null,s,a),e)}function n(t){t(p)}var r=a(121),i=a.n(r),l=a(81),u=a.n(l),o=a(120),c=a.n(o),d=function(){var t=c()(i.a.mark(function t(e){var a,r,l,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=parseInt(e.trim("/").split("/").pop(),10),r=Math.random()>.1,d&&!r){t.next=11;break}if(l=c?0:11e3*Math.random(),p&&!(l<o)){t.next=8;break}return t.abrupt("return",new u.a(s.bind(null,v,l,a)));case 8:return t.abrupt("return",new u.a(s.bind(null,n,o,null)));case 9:t.next=12;break;case 11:return t.abrupt("return",_);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=c()(i.a.mark(function t(e,a){var s,n,r,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(s=Math.floor(Math.pow(2*Math.random()+1,4*Math.random()+1)),n=new Array(s),r=0;r<s;r++)n[r]={file_size:64*Math.floor(999*Math.random()+1)};l={camera_id:a,images:n},e(l);case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),_=502,p=504;e.a=d},179:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(428),n=a.n(s);e.default={name:"app",components:{Cameras:n.a},data:function(){return{clipped:!1,drawer:!1,fixed:!0,items:[{icon:"bubble_chart",title:"Osprey"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Osprey Camera Programming Test"}},computed:{allCameras:function(){for(var t=new Array(100),e=0;e<100;e++)t[e]=e+1;return t}}}},180:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(121),n=a.n(s),r=a(81),i=a.n(r),l=a(182),u=a.n(l),o=a(120),c=a.n(o),d=a(178);e.default={name:"cameras",props:{list:{type:Array,required:!0},concurrent:{type:Number,required:!1,default:5},timeout:{type:Number,required:!1,default:1e4},testing:{type:Object,required:!1,default:function(){return{instant:!1,canFail:!0,canTimeout:!0}}}},data:function(){return{cameras:[],defaultHeaders:[{text:"Camera ID",align:"left",sortable:!0,value:"id"},{text:"Images",value:"count"},{text:"Largest Image",value:"largest"},{text:"Data Used",value:"tx"},{text:"Last Updated",value:"updated"}],unresponsiveHeaders:[{text:"Camera ID",align:"left",sortable:!0,value:"id"},{text:"Last Attempt",value:"updated"}],unsortableHeaders:[{text:"Camera ID",align:"left",sortable:!1,value:"id"},{text:"Images",sortable:!1,value:"count"},{text:"Largest Image",sortable:!1,value:"largest"},{text:"Data Used",sortable:!1,value:"tx"},{text:"Last Updated",sortable:!1,value:"updated"}]}},computed:{synced:function(){return this.cameras.filter(this.onlySynced)},unsynced:function(){return this.cameras.filter(this.onlyUnsynced)},unreachable:function(){return this.cameras.filter(this.onlyUnreachable)},byTx:function(){return this.cameras.slice().sort(this.sortComparator.bind(null,"tx","desc"))},bySize:function(){return this.cameras.slice().sort(this.sortComparator.bind(null,"largest","desc"))},byCount:function(){return this.cameras.slice().sort(this.sortComparator.bind(null,"count","desc"))},busy:function(){return this.unsynced.length>0},progress:function(){return this.cameras.length-this.unsynced.length}},methods:{sortComparator:function(t,e,a,s){var n="desc"===e?-1:1;return a[t]>s[t]?n:a[t]<s[t]?-1*n:0},onlySynced:function(t){return null!==t.updated&&null!==t.count},onlyUnsynced:function(t){return null===t.updated},onlyUnreachable:function(t){return null!==t.updated&&null===t.count},sync:function(){var t=this;return c()(n.a.mark(function e(){var a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=new u.a;case 1:if(!t.unsynced.length){e.next=8;break}for(s=function(){var e=a.size,s=t.unsynced[e],n=t.updateCamera(s);a.set(s.id,n),n.then(function(){a.delete(s.id)})};a.size<t.concurrent&&a.size<t.unsynced.length;)s();return e.next=6,i.a.race(a.values());case 6:e.next=1;break;case 8:case"end":return e.stop()}},e,t)}))()},updateCamera:function(t){var e=this;return c()(n.a.mark(function s(){var r,i,l,u;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.i(d.a)("domain.tld/camera/"+t.id,e.timeout,e.testing.instant,e.testing.canFail,e.testing.canTimeout);case 2:if(502===(r=s.sent));else if(504===r);else{for(i=0,l=0,u=0;u<r.images.length;u++)i+=r.images[u].file_size,r.images[u].file_size>l&&(l=r.images[u].file_size);t.count=r.images.length,t.tx=i,t.largest=l}return t.updated=new Date,s.abrupt("return",t);case 6:case"end":return s.stop()}},s,e)}))()}},created:function(){for(var t=[],e=0;e<this.list.length;e++)t.push({id:this.list[e],count:null,tx:null,largest:null,updated:null});this.$set(this,"cameras",t),this.sync()}}},421:function(t,e){},427:function(t,e,a){var s=a(175)(a(179),a(429),null,null,null);t.exports=s.exports},428:function(t,e,a){var s=a(175)(a(180),a(430),null,null,null);t.exports=s.exports},429:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{light:""}},[a("v-toolbar",{attrs:{fixed:"",app:"","clipped-left":t.clipped}},[a("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("cameras",{attrs:{list:t.allCameras}})],1)],1)],1)],1),t._v(" "),a("v-navigation-drawer",{attrs:{temporary:"",right:t.right,fixed:""},model:{value:t.rightDrawer,callback:function(e){t.rightDrawer=e},expression:"rightDrawer"}},[a("v-list",[a("v-list-tile",{on:{click:function(e){t.right=!t.right}}},[a("v-list-tile-action",[a("v-icon",{attrs:{light:""}},[t._v("compare_arrows")])],1),t._v(" "),a("v-list-tile-title",[t._v("Switch drawer (click me)")])],1)],1)],1),t._v(" "),a("v-footer",{attrs:{fixed:t.fixed,app:""}},[a("span",[t._v("Â© 2017")])])],1)},staticRenderFns:[]}},430:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h1",{staticClass:"headline"},[t._v("\n    Cameras\n    "),t.busy?a("small",{staticClass:"grey--text"},[t._v("\n      "+t._s("updating... "+t.progress+" / "+t.cameras.length)+"\n    ")]):t._e()]),t._v(" "),a("v-progress-linear",{attrs:{value:t.progress}}),t._v(" "),a("br"),t._v(" "),a("v-expansion-panel",[a("v-expansion-panel-content",{attrs:{value:!0}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Synced Cameras")]),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.defaultHeaders,items:t.synced,loading:t.busy},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.count))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.largest))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.tx))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.updated))])]}}])})],1),t._v(" "),a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Unresponsive Cameras")]),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.unresponsiveHeaders,items:t.unreachable,loading:t.busy},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.updated))])]}}])})],1),t._v(" "),a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Sorted by Images Taken")]),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.unsortableHeaders,items:t.byCount,loading:t.busy},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(e.headers,function(e,s){return a("th",{key:e.text,class:["column",0===s?"text-xs-left":"text-xs-right","count"===e.value?"sortable desc active":""]},["count"===e.value?a("v-icon",[t._v("arrow_upward")]):t._e(),t._v("\n              "+t._s(e.text)+"\n            ")],1)}))]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.count))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.largest))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.tx))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.updated))])]}}])})],1),t._v(" "),a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Sorted by Largest Image")]),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.unsortableHeaders,items:t.bySize,loading:t.busy},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(e.headers,function(e,s){return a("th",{key:e.text,class:["column",0===s?"text-xs-left":"text-xs-right","largest"===e.value?"sortable desc active":""]},["largest"===e.value?a("v-icon",[t._v("arrow_upward")]):t._e(),t._v("\n              "+t._s(e.text)+"\n            ")],1)}))]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.count))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.largest))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.tx))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.updated))])]}}])})],1),t._v(" "),a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Sorted by Data Used")]),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.unsortableHeaders,items:t.byTx,loading:t.busy},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(e.headers,function(e,s){return a("th",{key:e.text,class:["column",0===s?"text-xs-left":"text-xs-right","tx"===e.value?"sortable desc active":""]},["tx"===e.value?a("v-icon",[t._v("arrow_upward")]):t._e(),t._v("\n              "+t._s(e.text)+"\n            ")],1)}))]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.count))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.largest))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.tx))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.updated))])]}}])})],1)],1)],1)},staticRenderFns:[]}},434:function(t,e,a){a(177),t.exports=a(176)}},[434]);
//# sourceMappingURL=app.2d40f76dffd41a2747b4.js.map